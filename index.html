<!doctype html>
<html lang="en">
Â <head>Â  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
Â  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
Â  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
Â  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
Â  })(window,document,'script','dataLayer','GTM-5MDZK46H');</script>Â  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6LMZ9JYMJF"></script>
Â  <script>
Â  Â  window.dataLayer = window.dataLayer || [];
Â  Â  function gtag(){dataLayer.push(arguments);}
Â  Â  gtag('js', new Date());

Â  Â  gtag('config', 'G-6LMZ9JYMJF');
Â  </script>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Cake Shop</title>
Â  <script src="/_sdk/element_sdk.js"></script>
Â  <script src="/_sdk/data_sdk.js"></script>
Â  <script src="https://cdn.tailwindcss.com"></script>
Â  <style>
Â  Â  body {
Â  Â  Â  box-sizing: border-box;
Â  Â  }
Â  Â Â 
Â  Â  * {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  box-sizing: border-box;
Â  Â  }
Â  Â Â 
Â  Â  html, body {
Â  Â  Â  height: 100%;
Â  Â  Â  width: 100%;
Â  Â  }
Â  Â Â 
Â  Â  .page {
Â  Â  Â  display: none;
Â  Â  }
Â  Â Â 
Â  Â  .page.active {
Â  Â  Â  display: block;
Â  Â  }
Â  Â Â 
Â  Â  .cart-badge {
Â  Â  Â  min-width: 20px;
Â  Â  Â  height: 20px;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  }
Â  Â Â 
Â  Â  .product-card {
Â  Â  Â  transition: transform 0.2s, box-shadow 0.2s;
Â  Â  }
Â  Â Â 
Â  Â  .product-card:hover {
Â  Â  Â  transform: translateY(-4px);
Â  Â  Â  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
Â  Â  }
Â  Â Â 
Â  Â  .btn-primary {
Â  Â  Â  transition: all 0.2s;
Â  Â  }
Â  Â Â 
Â  Â  .btn-primary:hover {
Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
Â  Â  }
Â  Â Â 
Â  Â  .loading-spinner {
Â  Â  Â  border: 3px solid rgba(255, 255, 255, 0.3);
Â  Â  Â  border-top-color: white;
Â  Â  Â  border-radius: 50%;
Â  Â  Â  width: 20px;
Â  Â  Â  height: 20px;
Â  Â  Â  animation: spin 0.8s linear infinite;
Â  Â  }
Â  Â Â 
Â  Â  @keyframes spin {
Â  Â  Â  to { transform: rotate(360deg); }
Â  Â  }
Â  Â Â 
Â  Â  .toast {
Â  Â  Â  position: fixed;
Â  Â  Â  bottom: 20px;
Â  Â  Â  right: 20px;
Â  Â  Â  background: #10b981;
Â  Â  Â  color: white;
Â  Â  Â  padding: 16px 24px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
Â  Â  Â  z-index: 1000;
Â  Â  Â  animation: slideIn 0.3s ease-out;
Â  Â  }
Â  Â Â 
Â  Â  @keyframes slideIn {
Â  Â  Â  from {
Â  Â  Â  Â  transform: translateX(400px);
Â  Â  Â  Â  opacity: 0;
Â  Â  Â  }
Â  Â  Â  to {
Â  Â  Â  Â  transform: translateX(0);
Â  Â  Â  Â  opacity: 1;
Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â  @keyframes fadeIn {
Â  Â  Â  from { opacity: 0; transform: scale(0.9); }
Â  Â  Â  to { opacity: 1; transform: scale(1); }
Â  Â  }
Â  Â Â 
Â  Â  @keyframes fadeOut {
Â  Â  Â  from { opacity: 1; transform: scale(1); }
Â  Â  Â  to { opacity: 0; transform: scale(0.9); }
Â  Â  }
Â  </style>
Â  <style>@view-transition { navigation: auto; }</style>
Â </head>
Â <body>Â  <noscript>
Â  Â <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5MDZK46H" height="0" width="0" style="display:none;visibility:hidden"></iframe>
Â  </noscript>Â  <div id="app" style="width: 100%; height: 100%; display: flex; flex-direction: column;">Â  Â <nav id="navbar" style="width: 100%; padding: 20px 40px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
Â  Â  <div>
Â  Â  Â <h1 id="shop-name" style="font-size: 28px; font-weight: bold; margin: 0;">Sweet Delights Bakery</h1>
Â  Â  Â <p id="tagline" style="font-size: 14px; margin: 4px 0 0 0; opacity: 0.8;">Freshly Baked with Love</p>
Â  Â  </div>
Â  Â  <div style="display: flex; gap: 32px; align-items: center;"><a href="#home" class="nav-link" style="text-decoration: none; font-weight: 500; font-size: 16px; transition: opacity 0.2s;">Home</a> <a href="#about" class="nav-link" style="text-decoration: none; font-weight: 500; font-size: 16px; transition: opacity 0.2s;">About</a> <a href="#contact" class="nav-link" style="text-decoration: none; font-weight: 500; font-size: 16px; transition: opacity 0.2s;">Contact</a> <a href="#cart" class="nav-link" style="text-decoration: none; font-weight: 500; font-size: 16px; position: relative; transition: opacity 0.2s;"> Cart <span id="cart-badge" class="cart-badge" style="position: absolute; top: -8px; right: -12px; border-radius: 10px; font-size: 12px; font-weight: bold; padding: 2px 6px;">0</span> </a>
Â  Â  </div>
Â  Â </nav>Â  Â <main style="flex: 1; overflow-y: auto; width: 100%;">Â  Â  <div id="home-page" class="page active">
Â  Â  Â <div style="width: 100%; padding: 60px 40px;">Â  Â  Â  <div style="text-align: center; margin-bottom: 60px;">
Â  Â  Â  Â <h2 style="font-size: 48px; font-weight: bold; margin-bottom: 16px;">Delicious Cakes for Every Occasion</h2>
Â  Â  Â  Â <p style="font-size: 20px; opacity: 0.8; max-width: 600px; margin: 0 auto;">Handcrafted with premium ingredients and love</p>
Â  Â  Â  </div>Â  Â  Â  <div style="max-width: 1200px; margin: 0 auto;">
Â  Â  Â  Â <h3 style="font-size: 32px; font-weight: bold; margin-bottom: 32px; text-align: center;">Our Cakes</h3>
Â  Â  Â  Â <div id="products-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 32px;"></div>
Â  Â  Â  </div>
Â  Â  Â </div>
Â  Â  </div>Â  Â  <div id="about-page" class="page">
Â  Â  Â <div style="width: 100%; padding: 60px 40px;">
Â  Â  Â  <div style="max-width: 800px; margin: 0 auto;">
Â  Â  Â  Â <h2 style="font-size: 48px; font-weight: bold; margin-bottom: 32px; text-align: center;">About Us</h2>
Â  Â  Â  Â <div style="background: white; padding: 48px; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
Â  Â  Â  Â  <p id="about-description" style="font-size: 18px; line-height: 1.8; margin-bottom: 24px;">Welcome to Sweet Delights Bakery! For over 15 years, we've been crafting the finest cakes using traditional recipes and premium ingredients. Each cake is made fresh daily with love and attention to detail.</p>
Â  Â  Â  Â  <p style="font-size: 18px; line-height: 1.8; margin-bottom: 24px;">Our passionate team of bakers brings years of experience and creativity to every creation. From classic flavors to custom designs, we're here to make your celebrations extra special.</p>
Â  Â  Â  Â  <p style="font-size: 18px; line-height: 1.8;">Visit us today and taste the difference that quality ingredients and expert craftsmanship make!</p>
Â  Â  Â  Â </div>
Â  Â  Â  </div>
Â  Â  Â </div>
Â  Â  </div>Â  Â  <div id="cart-page" class="page">
Â  Â  Â <div style="width: 100%; padding: 60px 40px;">
Â  Â  Â  <div style="max-width: 900px; margin: 0 auto;">
Â  Â  Â  Â <h2 style="font-size: 48px; font-weight: bold; margin-bottom: 32px; text-align: center;">Shopping Cart</h2>
Â  Â  Â  Â <div id="cart-items" style="background: white; padding: 32px; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);"></div>
Â  Â  Â  </div>
Â  Â  Â </div>
Â  Â  </div>Â  Â  <div id="contact-page" class="page">
Â  Â  Â <div style="width: 100%; padding: 60px 40px;">
Â  Â  Â  <div style="max-width: 600px; margin: 0 auto;">
Â  Â  Â  Â <h2 id="contact-heading" style="font-size: 48px; font-weight: bold; margin-bottom: 16px; text-align: center;">Get In Touch</h2>
Â  Â  Â  Â <p style="font-size: 18px; opacity: 0.8; margin-bottom: 40px; text-align: center;">Have questions or special requests? We'd love to hear from you!</p>
Â  Â  Â  Â <form id="contact-form" style="background: white; padding: 40px; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
Â  Â  Â  Â  <div style="margin-bottom: 24px;"><label for="name-input" style="display: block; font-weight: 600; margin-bottom: 8px; font-size: 16px;">Name</label> <input type="text" id="name-input" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; transition: border-color 0.2s;">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="margin-bottom: 24px;"><label for="email-input" style="display: block; font-weight: 600; margin-bottom: 8px; font-size: 16px;">Email</label> <input type="email" id="email-input" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; transition: border-color 0.2s;">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="margin-bottom: 24px;"><label for="phone-input" style="display: block; font-weight: 600; margin-bottom: 8px; font-size: 16px;">Phone</label> <input type="tel" id="phone-input" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; transition: border-color 0.2s;">
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div style="margin-bottom: 32px;"><label for="message-input" style="display: block; font-weight: 600; margin-bottom: 8px; font-size: 16px;">Message</label> <textarea id="message-input" required rows="5" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; resize: vertical; transition: border-color 0.2s;"></textarea>
Â  Â  Â  Â  </div><button type="submit" id="submit-btn" class="btn-primary" style="width: 100%; padding: 16px; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px;"> <span id="submit-text">Send Message</span> </button>
Â  Â  Â  Â </form>
Â  Â  Â  </div>
Â  Â  Â </div>
Â  Â  </div>Â  Â  <div id="thankyou-page" class="page">
Â  Â  Â <div style="width: 100%; padding: 80px 40px;">
Â  Â  Â  <div style="max-width: 700px; margin: 0 auto; text-align: center;">
Â  Â  Â  Â <div style="background: white; padding: 60px 40px; border-radius: 20px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
Â  Â  Â  Â  <div style="font-size: 120px; margin-bottom: 32px;">
Â  Â  Â  Â  Â ğŸ‰
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h2 id="thankyou-title" style="font-size: 56px; font-weight: bold; margin-bottom: 24px;">Thank You!</h2>
Â  Â  Â  Â  <p id="thankyou-message" style="font-size: 22px; line-height: 1.6; margin-bottom: 40px; opacity: 0.8;">We've received your message and truly appreciate you reaching out to us. Our team will get back to you as soon as possible!</p><button onclick="navigateToPage('home')" class="btn-primary" id="back-home-btn" style="padding: 16px 48px; border: none; border-radius: 8px; font-size: 18px; font-weight: 600; cursor: pointer;"> Back to Home </button>
Â  Â  Â  Â </div>
Â  Â  Â  </div>
Â  Â  Â </div>
Â  Â  </div>
Â  Â </main>
Â  </div>
Â  <script>
Â  Â  const defaultConfig = {
Â  Â  Â  background_color: "#fef3f3",
Â  Â  Â  surface_color: "#ffffff",
Â  Â  Â  text_color: "#1f2937",
Â  Â  Â  primary_action_color: "#ec4899",
Â  Â  Â  secondary_action_color: "#f472b6",
Â  Â  Â  font_family: "ui-sans-serif, system-ui, -apple-system, sans-serif",
Â  Â  Â  font_size: 16,
Â  Â  Â  shop_name: "Sweet Delights Bakery",
Â  Â  Â  tagline: "Freshly Baked with Love",
Â  Â  Â  about_text: "Welcome to Sweet Delights Bakery! For over 15 years, we've been crafting the finest cakes using traditional recipes and premium ingredients. Each cake is made fresh daily with love and attention to detail.",
Â  Â  Â  contact_heading: "Get In Touch"
Â  Â  };

Â  Â  const products = [
Â  Â  Â  { id: 1, name: "Chocolate Dream", price: 35, emoji: "ğŸ«" },
Â  Â  Â  { id: 2, name: "Strawberry Delight", price: 32, emoji: "ğŸ“" },
Â  Â  Â  { id: 3, name: "Vanilla Classic", price: 28, emoji: "ğŸ°" },
Â  Â  Â  { id: 4, name: "Red Velvet", price: 38, emoji: "â¤ï¸" },
Â  Â  Â  { id: 5, name: "Lemon Zest", price: 30, emoji: "ğŸ‹" },
Â  Â  Â  { id: 6, name: "Carrot Cake", price: 33, emoji: "ğŸ¥•" }
Â  Â  ];

Â  Â  let cart = [];
Â  Â  let contactSubmissions = [];

Â  Â  const dataHandler = {
Â  Â  Â  onDataChanged(data) {
Â  Â  Â  Â  contactSubmissions = data;
Â  Â  Â  }
Â  Â  };

Â  Â  async function onConfigChange(config) {
Â  Â  Â  const customFont = config.font_family || defaultConfig.font_family;
Â  Â  Â  const baseFontStack = 'ui-sans-serif, system-ui, -apple-system, sans-serif';
Â  Â  Â  const baseSize = config.font_size || defaultConfig.font_size;
Â  Â  Â Â 
Â  Â  Â  document.body.style.background = config.background_color || defaultConfig.background_color;
Â  Â  Â  document.body.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;
Â  Â  Â Â 
Â  Â  Â  document.getElementById('navbar').style.background = config.surface_color || defaultConfig.surface_color;
Â  Â  Â  document.getElementById('navbar').style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â Â 
Â  Â  Â  document.getElementById('shop-name').style.fontSize = `${baseSize * 1.75}px`;
Â  Â  Â  document.getElementById('tagline').style.fontSize = `${baseSize * 0.875}px`;
Â  Â  Â Â 
Â  Â  Â  document.getElementById('shop-name').textContent = config.shop_name || defaultConfig.shop_name;
Â  Â  Â  document.getElementById('tagline').textContent = config.tagline || defaultConfig.tagline;
Â  Â  Â  document.getElementById('about-description').textContent = config.about_text || defaultConfig.about_text;
Â  Â  Â  document.getElementById('contact-heading').textContent = config.contact_heading || defaultConfig.contact_heading;
Â  Â  Â Â 
Â  Â  Â  const navLinks = document.querySelectorAll('.nav-link');
Â  Â  Â  navLinks.forEach(link => {
Â  Â  Â  Â  link.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  Â  link.style.fontSize = `${baseSize}px`;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  const cartBadge = document.getElementById('cart-badge');
Â  Â  Â  cartBadge.style.background = config.primary_action_color || defaultConfig.primary_action_color;
Â  Â  Â  cartBadge.style.color = config.surface_color || defaultConfig.surface_color;
Â  Â  Â Â 
Â  Â  Â  const allH2 = document.querySelectorAll('h2');
Â  Â  Â  allH2.forEach(h2 => {
Â  Â  Â  Â  h2.style.fontSize = `${baseSize * 3}px`;
Â  Â  Â  Â  h2.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  const allH3 = document.querySelectorAll('h3');
Â  Â  Â  allH3.forEach(h3 => {
Â  Â  Â  Â  h3.style.fontSize = `${baseSize * 2}px`;
Â  Â  Â  Â  h3.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  const allParagraphs = document.querySelectorAll('p');
Â  Â  Â  allParagraphs.forEach(p => {
Â  Â  Â  Â  if (!p.id) {
Â  Â  Â  Â  Â  p.style.fontSize = `${baseSize * 1.125}px`;
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  document.querySelectorAll('input, textarea').forEach(input => {
Â  Â  Â  Â  input.style.fontSize = `${baseSize}px`;
Â  Â  Â  Â  input.style.borderColor = config.text_color || defaultConfig.text_color;
Â  Â  Â  Â  input.addEventListener('focus', () => {
Â  Â  Â  Â  Â  input.style.borderColor = config.primary_action_color || defaultConfig.primary_action_color;
Â  Â  Â  Â  });
Â  Â  Â  Â  input.addEventListener('blur', () => {
Â  Â  Â  Â  Â  input.style.borderColor = '#e5e7eb';
Â  Â  Â  Â  });
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  document.querySelectorAll('label').forEach(label => {
Â  Â  Â  Â  label.style.fontSize = `${baseSize}px`;
Â  Â  Â  Â  label.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  const submitText = document.getElementById('submit-text');
Â  Â  Â  if (submitText) {
Â  Â  Â  Â  submitText.style.fontSize = `${baseSize * 1.125}px`;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  const thankYouTitle = document.getElementById('thankyou-title');
Â  Â  Â  if (thankYouTitle) {
Â  Â  Â  Â  thankYouTitle.style.color = config.primary_action_color || defaultConfig.primary_action_color;
Â  Â  Â  Â  thankYouTitle.style.fontSize = `${baseSize * 3.5}px`;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  const thankYouMessage = document.getElementById('thankyou-message');
Â  Â  Â  if (thankYouMessage) {
Â  Â  Â  Â  thankYouMessage.style.color = config.text_color || defaultConfig.text_color;
Â  Â  Â  Â  thankYouMessage.style.fontSize = `${baseSize * 1.375}px`;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  const backHomeBtn = document.getElementById('back-home-btn');
Â  Â  Â  if (backHomeBtn) {
Â  Â  Â  Â  backHomeBtn.style.background = config.primary_action_color || defaultConfig.primary_action_color;
Â  Â  Â  Â  backHomeBtn.style.color = config.surface_color || defaultConfig.surface_color;
Â  Â  Â  Â  backHomeBtn.style.fontSize = `${baseSize * 1.125}px`;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  renderProducts();
Â  Â  Â  renderCart();
Â  Â  }

Â  Â  function renderProducts() {
Â  Â  Â  const config = window.elementSdk?.config || defaultConfig;
Â  Â  Â  const grid = document.getElementById('products-grid');
Â  Â  Â  grid.innerHTML = products.map(product => `
Â  Â  Â  Â  <div class="product-card" style="background: ${config.surface_color || defaultConfig.surface_color}; padding: 24px; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center;">
Â  Â  Â  Â  Â  <div style="font-size: 80px; margin-bottom: 16px;">${product.emoji}</div>
Â  Â  Â  Â  Â  <h4 style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.25}px; font-weight: 600; margin-bottom: 8px; color: ${config.text_color || defaultConfig.text_color};">${product.name}</h4>
Â  Â  Â  Â  Â  <p style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.5}px; font-weight: bold; margin-bottom: 16px; color: ${config.primary_action_color || defaultConfig.primary_action_color};">$${product.price}</p>
Â  Â  Â  Â  Â  <button onclick="addToCart(${product.id})" class="btn-primary" style="width: 100%; padding: 12px 24px; background: ${config.primary_action_color || defaultConfig.primary_action_color}; color: ${config.surface_color || defaultConfig.surface_color}; border: none; border-radius: 8px; font-size: ${(config.font_size || defaultConfig.font_size) * 1.125}px; font-weight: 600; cursor: pointer;">
Â  Â  Â  Â  Â  Â  Add to Cart
Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  </div>
Â  Â  Â  `).join('');
Â  Â  }

Â  Â  function addToCart(productId) {
Â  Â  Â  const product = products.find(p => p.id === productId);
Â  Â  Â  const existingItem = cart.find(item => item.id === productId);
Â  Â  Â Â 
Â  Â  Â  if (existingItem) {
Â  Â  Â  Â  existingItem.quantity++;
Â  Â  Â  } else {
Â  Â  Â  Â  cart.push({ ...product, quantity: 1 });
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  updateCartBadge();
Â  Â  Â  renderCart();
Â  Â  Â  showToast('Added to cart!');
Â  Â  }

Â  Â  function updateCartBadge() {
Â  Â  Â  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
Â  Â  Â  document.getElementById('cart-badge').textContent = totalItems;
Â  Â  }

Â  Â  function renderCart() {
Â  Â  Â  const config = window.elementSdk?.config || defaultConfig;
Â  Â  Â  const container = document.getElementById('cart-items');
Â  Â  Â Â 
Â  Â  Â  if (cart.length === 0) {
Â  Â  Â  Â  container.innerHTML = `
Â  Â  Â  Â  Â  <div style="text-align: center; padding: 40px;">
Â  Â  Â  Â  Â  Â  <div style="font-size: 80px; margin-bottom: 16px;">ğŸ›’</div>
Â  Â  Â  Â  Â  Â  <p style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.25}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.6;">Your cart is empty</p>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  `;
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
Â  Â  Â Â 
Â  Â  Â  container.innerHTML = `
Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  ${cart.map((item, index) => `
Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; justify-content: space-between; padding: 20px; border-bottom: 2px solid #f3f4f6; ${index === cart.length - 1 ? 'border-bottom: none;' : ''}">
Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; gap: 16px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="font-size: 48px;">${item.emoji}</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.125}px; font-weight: 600; margin-bottom: 4px; color: ${config.text_color || defaultConfig.text_color};">${item.name}</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: ${(config.font_size || defaultConfig.font_size) * 0.875}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.6;">$${item.price} each</p>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; gap: 16px;">
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display: flex; align-items: center; gap: 12px;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateQuantity(${item.id}, -1)" style="width: 32px; height: 32px; border-radius: 6px; border: 2px solid ${config.secondary_action_color || defaultConfig.secondary_action_color}; background: transparent; color: ${config.secondary_action_color || defaultConfig.secondary_action_color}; cursor: pointer; font-size: 18px; font-weight: bold; display: flex; align-items: center; justify-content: center;">âˆ’</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.125}px; font-weight: 600; min-width: 24px; text-align: center; color: ${config.text_color || defaultConfig.text_color};">${item.quantity}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="updateQuantity(${item.id}, 1)" style="width: 32px; height: 32px; border-radius: 6px; border: 2px solid ${config.primary_action_color || defaultConfig.primary_action_color}; background: transparent; color: ${config.primary_action_color || defaultConfig.primary_action_color}; cursor: pointer; font-size: 18px; font-weight: bold; display: flex; align-items: center; justify-content: center;">+</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.25}px; font-weight: bold; min-width: 80px; text-align: right; color: ${config.text_color || defaultConfig.text_color};">$${(item.price * item.quantity).toFixed(2)}</p>
Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeFromCart(${item.id})" style="padding: 8px 12px; background: transparent; border: none; color: #ef4444; cursor: pointer; font-size: 24px;">ğŸ—‘ï¸</button>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  `).join('')}
Â  Â  Â  Â  Â  <div style="margin-top: 32px; padding-top: 24px; border-top: 3px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
Â  Â  Â  Â  Â  Â  <span style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.5}px; font-weight: bold; color: ${config.text_color || defaultConfig.text_color};">Total:</span>
Â  Â  Â  Â  Â  Â  <span style="font-size: ${(config.font_size || defaultConfig.font_size) * 2}px; font-weight: bold; color: ${config.primary_action_color || defaultConfig.primary_action_color};">$${total.toFixed(2)}</span>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  }

Â  Â  function updateQuantity(productId, change) {
Â  Â  Â  const item = cart.find(i => i.id === productId);
Â  Â  Â  if (item) {
Â  Â  Â  Â  item.quantity += change;
Â  Â  Â  Â  if (item.quantity <= 0) {
Â  Â  Â  Â  Â  removeFromCart(productId);
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  updateCartBadge();
Â  Â  Â  Â  Â  renderCart();
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  }

Â  Â  function removeFromCart(productId) {
Â  Â  Â  cart = cart.filter(item => item.id !== productId);
Â  Â  Â  updateCartBadge();
Â  Â  Â  renderCart();
Â  Â  Â  showToast('Item removed from cart');
Â  Â  }

Â  Â  function showToast(message) {
Â  Â  Â  const toast = document.createElement('div');
Â  Â  Â  toast.className = 'toast';
Â  Â  Â  toast.textContent = message;
Â  Â  Â  document.body.appendChild(toast);
Â  Â  Â Â 
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  toast.remove();
Â  Â  Â  }, 3000);
Â  Â  }
Â  Â Â 
Â  Â  function showThankYouNotification() {
Â  Â  Â  const config = window.elementSdk?.config || defaultConfig;
Â  Â  Â Â 
Â  Â  Â  const overlay = document.createElement('div');
Â  Â  Â  overlay.style.cssText = `
Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  Â  z-index: 1999;
Â  Â  Â  Â  animation: fadeIn 0.3s ease-out;
Â  Â  Â  `;
Â  Â  Â Â 
Â  Â  Â  const thankYouMsg = document.createElement('div');
Â  Â  Â  thankYouMsg.style.cssText = `
Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  top: 50%;
Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  transform: translate(-50%, -50%);
Â  Â  Â  Â  background: ${config.surface_color || defaultConfig.surface_color};
Â  Â  Â  Â  color: ${config.text_color || defaultConfig.text_color};
Â  Â  Â  Â  padding: 50px 70px;
Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
Â  Â  Â  Â  z-index: 2000;
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  animation: fadeIn 0.3s ease-out;
Â  Â  Â  Â  max-width: 90%;
Â  Â  Â  `;
Â  Â  Â  thankYouMsg.innerHTML = `
Â  Â  Â  Â  <div style="font-size: 80px; margin-bottom: 20px;">ğŸ‰</div>
Â  Â  Â  Â  <h3 style="font-size: ${(config.font_size || defaultConfig.font_size) * 2}px; font-weight: bold; margin-bottom: 16px; color: ${config.primary_action_color || defaultConfig.primary_action_color};">Thank You!</h3>
Â  Â  Â  Â  <p style="font-size: ${(config.font_size || defaultConfig.font_size) * 1.25}px; color: ${config.text_color || defaultConfig.text_color}; opacity: 0.8; line-height: 1.6;">We've received your message and will<br>get back to you soon!</p>
Â  Â  Â  `;
Â  Â  Â Â 
Â  Â  Â  document.body.appendChild(overlay);
Â  Â  Â  document.body.appendChild(thankYouMsg);
Â  Â  Â Â 
Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  thankYouMsg.style.animation = 'fadeOut 0.3s ease-out';
Â  Â  Â  Â  overlay.style.animation = 'fadeOut 0.3s ease-out';
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  thankYouMsg.remove();
Â  Â  Â  Â  Â  overlay.remove();
Â  Â  Â  Â  }, 300);
Â  Â  Â  }, 3000);
Â  Â  }

Â  Â  function navigateToPage(pageId) {
Â  Â  Â  document.querySelectorAll('.page').forEach(page => {
Â  Â  Â  Â  page.classList.remove('active');
Â  Â  Â  });
Â  Â  Â  document.getElementById(`${pageId}-page`).classList.add('active');
Â  Â  Â  window.scrollTo(0, 0);
Â  Â  }

Â  Â  document.querySelectorAll('.nav-link').forEach(link => {
Â  Â  Â  link.addEventListener('click', (e) => {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  const pageId = e.target.getAttribute('href').substring(1);
Â  Â  Â  Â  navigateToPage(pageId);
Â  Â  Â  });
Â  Â  });

Â  Â  document.getElementById('contact-form').addEventListener('submit', async (e) => {
Â  Â  Â  e.preventDefault();
Â  Â  Â Â 
Â  Â  Â  const submitBtn = document.getElementById('submit-btn');
Â  Â  Â  const submitText = document.getElementById('submit-text');
Â  Â  Â Â 
Â  Â  Â  submitBtn.disabled = true;
Â  Â  Â  submitText.textContent = 'Sending...';
Â  Â  Â  submitBtn.innerHTML = '<div class="loading-spinner"></div>';
Â  Â  Â Â 
Â  Â  Â  const formData = {
Â  Â  Â  Â  id: Date.now().toString(),
Â  Â  Â  Â  name: document.getElementById('name-input').value,
Â  Â  Â  Â  email: document.getElementById('email-input').value,
Â  Â  Â  Â  phone: document.getElementById('phone-input').value,
Â  Â  Â  Â  message: document.getElementById('message-input').value,
Â  Â  Â  Â  submittedAt: new Date().toISOString()
Â  Â  Â  };

Â  Â  Â  // Add small delay to show 'Sending...' status
Â  Â  Â  await new Promise(resolve => setTimeout(resolve, 500)); 
Â  Â  Â Â 
Â  Â  Â  const result = await window.dataSdk.create(formData);
Â  Â  Â Â 
Â  Â  Â  submitBtn.disabled = false;
Â  Â  Â Â 
Â  Â  Â  if (result.isOk) {
Â  Â  Â  Â  // 1. GTM Data Layer Push for Lead Conversion (New Feature)
Â  Â  Â  Â  if (window.dataLayer) {
Â  Â  Â  Â  Â  window.dataLayer.push({
Â  Â  Â  Â  Â  Â  event: 'leadFormSubmission',
Â  Â  Â  Â  Â  Â  formType: 'Contact Inquiry',
Â  Â  Â  Â  Â  Â  formSource: 'Website Contact Page'
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  console.log("[GTM Data Layer] 'leadFormSubmission' event pushed.");
Â  Â  Â  Â  }

Â  Â  Â  Â  // 2. Reset form UI
Â  Â  Â  Â  document.getElementById('contact-form').reset();
Â  Â  Â  Â  submitBtn.innerHTML = '<span id="submit-text">Send Message</span>';
Â  Â  Â  Â  const config = window.elementSdk?.config || defaultConfig;
Â  Â  Â  Â  submitBtn.style.background = config.primary_action_color || defaultConfig.primary_action_color;
Â  Â  Â  Â  submitBtn.style.color = config.surface_color || defaultConfig.surface_color;

Â  Â  Â  Â  // 3. Page Navigation (Fix for Redirection)
Â  Â  Â  Â  navigateToPage('thankyou');

Â  Â  Â  } else {
Â  Â  Â  Â  showToast('Failed to send message. Please try again.');
Â  Â  Â  Â  submitBtn.innerHTML = '<span id="submit-text">Send Message</span>';
Â  Â  Â  }
Â  Â  });

Â  Â  async function init() {
Â  Â  Â  if (window.dataSdk) {
Â  Â  Â  Â  const initResult = await window.dataSdk.init(dataHandler);
Â  Â  Â  Â  if (!initResult.isOk) {
Â  Â  Â  Â  Â  console.error('Failed to initialize data SDK');
Â  Â  Â  Â  }
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  if (window.elementSdk) {
Â  Â  Â  Â  window.elementSdk.init({
Â  Â  Â  Â  Â  defaultConfig,
Â  Â  Â  Â  Â  onConfigChange,
Â  Â  Â  Â  Â  mapToCapabilities: (config) => ({
Â  Â  Â  Â  Â  Â  recolorables: [
Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  get: () => config.background_color || defaultConfig.background_color,
Â  Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  config.background_color = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ background_color: value });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  get: () => config.surface_color || defaultConfig.surface_color,
Â  Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  config.surface_color = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ surface_color: value });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  get: () => config.text_color || defaultConfig.text_color,
Â  Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  config.text_color = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ text_color: value });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  get: () => config.primary_action_color || defaultConfig.primary_action_color,
Â  Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  config.primary_action_color = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ primary_action_color: value });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
Â  Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  config.secondary_action_color = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ secondary_action_color: value });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  borderables: [],
Â  Â  Â  Â  Â  Â  fontEditable: {
Â  Â  Â  Â  Â  Â  Â  get: () => config.font_family || defaultConfig.font_family,
Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  config.font_family = value;
Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ font_family: value });
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  fontSizeable: {
Â  Â  Â  Â  Â  Â  Â  get: () => config.font_size || defaultConfig.font_size,
Â  Â  Â  Â  Â  Â  Â  set: (value) => {
Â  Â  Â  Â  Â  Â  Â  Â  config.font_size = value;
Â  Â  Â  Â  Â  Â  Â  Â  window.elementSdk.setConfig({ font_size: value });
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }),
Â  Â  Â  Â  Â  mapToEditPanelValues: (config) => new Map([
Â  Â  Â  Â  Â  Â  ["shop_name", config.shop_name || defaultConfig.shop_name],
Â  Â  Â  Â  Â  Â  ["tagline", config.tagline || defaultConfig.tagline],
Â  Â  Â  Â  Â  Â  ["about_text", config.about_text || defaultConfig.about_text],
Â  Â  Â  Â  Â  Â  ["contact_heading", config.contact_heading || defaultConfig.contact_heading]
Â  Â  Â  Â  Â  ])
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  await onConfigChange(window.elementSdk?.config || defaultConfig);
Â  Â  }

Â  Â  init();
Â  </script>
Â <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a91d13c973e7f8b',t:'MTc2NDkxOTYwOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
